<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Luna | Art Collection</title>
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bodoni+Moda:ital,opsz,wght@0,6..96,400..900;1,6..96,400..900&family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;1,400&family=Montserrat:wght@300;400;500&family=Noto+Serif+SC:wght@300;400;700&display=swap" rel="stylesheet">
    
    <script>
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {
            fontFamily: {
              serif: ['"Cormorant Garamond"', '"Noto Serif SC"', 'serif'],
              sans: ['"Montserrat"', 'sans-serif'],
              bodoni: ['"Bodoni Moda"', 'serif'],
            },
            colors: {
              museum: {
                900: '#1c1917',
                800: '#292524',
                50: '#fafaf9',
                gold: '#d4af37',
              }
            }
          }
        }
      }
    </script>
    <style>
      /* Custom scrollbar and animations */
      ::-webkit-scrollbar { width: 8px; }
      ::-webkit-scrollbar-track { background: transparent; }
      ::-webkit-scrollbar-thumb { background: #a8a29e; border-radius: 4px; }
      ::-webkit-scrollbar-thumb:hover { background: #d4af37; }
      .fade-in { animation: fadeIn 1s ease-in-out; }
      @keyframes fadeIn {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
      }
    </style>
</head>

<body class="antialiased selection:bg-museum-gold selection:text-museum-900 transition-colors duration-500">
    <div id="root"></div>

    <script>
        // Ê≥®ÊÑèÔºöÁé∞Âú®Êàë‰ª¨‰ΩøÁî®ÂÖ®Â±ÄÂèòÈáè React Âíå ReactDOMÔºåËÄå‰∏çÊòØ import
        const { useState, useMemo, useEffect, useCallback } = React;
        const { createRoot } = ReactDOM; // ‰ªéÂÖ®Â±ÄÂØπË±°‰∏≠Ëé∑Âèñ createRoot

        // --- 1. Ê®°ÊãüÁªÑ‰ª∂ÂíåÂ∏∏Èáè ---
        // ‰∏∫‰∫ÜÁÆÄÂåñÔºåÊàë‰ª¨Âè™ÂºïÂÖ•ÈúÄË¶ÅÁöÑ lucide-react ÁªÑ‰ª∂ (‰ΩøÁî® cdnjs)
        const { Search, BookOpen, ArrowRight } = window["lucide-react"] || {};
        
        // Ê®°Êãü Types/Constants
        const Category = {
            ALL: 'ALL', PAINTING: 'PAINTING', WOOD_CARVING: 'WOOD_CARVING', STONE_CLAY: 'STONE_CLAY',
            LEATHER: 'LEATHER', LITERATURE: 'LITERATURE', PHOTOGRAPHY: 'PHOTOGRAPHY'
        };
        const CATEGORY_LABELS = {
            [Category.ALL]: 'COLLECTION OVERVIEW', [Category.PAINTING]: 'GALLERY I: CANVAS & HUE (ÁªòÁîª)',
            [Category.WOOD_CARVING]: 'GALLERY II: TIMBER PAVILION (Êú®Èõï)', [Category.STONE_CLAY]: 'GALLERY III: SCULPTURE GARDEN (Áü≥Â°ëÁ≤òÂúü)',
            [Category.LEATHER]: 'GALLERY IV: ARTISAN WORKSHOP (ÁöÆÂÖ∑)', [Category.LITERATURE]: 'THE ESSAYS (ÊñáÂ≠¶)',
            [Category.PHOTOGRAPHY]: 'THE ARCHIVES (ÊëÑÂΩ±)'
        };
        const CATEGORY_THEMES = {
            [Category.ALL]: 'https://images.unsplash.com/photo-1549490349-866752da35f3?fit=crop&w=1500&h=1000',
            [Category.PAINTING]: 'https://images.unsplash.com/photo-1547891654-e6aa27da2c8b?fit=crop&w=1500&h=1000',
            [Category.WOOD_CARVING]: 'https://images.unsplash.com/photo-1594968840445-42994f719460?fit=crop&w=1500&h=1000',
            [Category.STONE_CLAY]: 'https://images.unsplash.com/photo-1533996765727-4660e5af758a?fit=crop&w=1500&h=1000',
            [Category.LEATHER]: 'https://images.unsplash.com/photo-1600888204620-33333333423b?fit=crop&w=1500&h=1000',
            [Category.LITERATURE]: 'https://images.unsplash.com/photo-1507842600213-91398c25791a?fit=crop&w=1500&h=1000',
            [Category.PHOTOGRAPHY]: 'https://images.unsplash.com/photo-1542831885-3006a8e80735?fit=crop&w=1500&h=1000'
        };
        const ARTWORKS = [
             { id: 1, category: Category.PAINTING, title: 'Êô®Êõ¶‰πãÂÖâ', year: 2023, materials: 'Â∏ÉÈù¢Ê≤πÁîª', imageUrl: 'https://picsum.photos/id/10/300/400', shortDescription: 'ÊçïÊçâÂÖâÂΩ±ÁöÑÊµÅÈÄù„ÄÇ' },
             { id: 2, category: Category.WOOD_CARVING, title: 'Ê≤âÈªòÁöÑÈπø', year: 2022, materials: 'ËÉ°Ê°ÉÊú®„ÄÅÈªÑÈìú', imageUrl: 'https://picsum.photos/id/400/300/400', shortDescription: 'ÊûÅÁÆÄ‰∏ª‰πâÁöÑÈáéÁîüÂΩ¢ÊÄÅ„ÄÇ' },
             { id: 3, category: Category.STONE_CLAY, title: 'Êó∂Èó¥Ê≤ôÊºè', year: 2024, materials: 'Áü≥Â°ëÁ≤òÂúü„ÄÅÁüøÁâ©È¢úÊñô', imageUrl: 'https://picsum.photos/id/200/300/400', shortDescription: 'ÂØπÊµÅÈÄùÊó∂Èó¥ÁöÑÊÄùËÄÉ„ÄÇ' },
             { id: 4, category: Category.LEATHER, title: 'ÊóÖ‰∫∫Èí±ÂåÖ', year: 2023, materials: 'Ê§çÈû£Èù©„ÄÅËúÇËú°', imageUrl: 'https://picsum.photos/id/500/300/400', shortDescription: '‰ΩìÁé∞Â≤ÅÊúàÁöÑ patina Ëâ≤Ê≥Ω„ÄÇ' },
             { id: 5, category: Category.PAINTING, title: 'ËìùËâ≤Ê¢¶Â¢É', year: 2024, materials: 'Ê∞¥ÂΩ©', imageUrl: 'https://picsum.photos/id/30/300/400', shortDescription: 'ÊçïÊçâÂÖâÂΩ±ÁöÑÊµÅÈÄù„ÄÇ' },
             { id: 6, category: Category.WOOD_CARVING, title: 'Â±±Â∑ùÊäòÂè†', year: 2023, materials: 'Ê©°Êú®', imageUrl: 'https://picsum.photos/id/31/300/400', shortDescription: 'ÊûÅÁÆÄ‰∏ª‰πâÁöÑÈáéÁîüÂΩ¢ÊÄÅ„ÄÇ' },
        ];


        // Ê®°Êãü Hero, Header, Modal ÁªÑ‰ª∂ (‰∏∫‰∫ÜÁÆÄÂåñÔºåÂè™ÂÜôÁ©∫Â£≥ÔºåÈò≤Ê≠¢Êä•Èîô)
        const Header = ({ categoryLabels, activeCategory, onSelectCategory, onOpenAdmin, isDarkMode, toggleTheme }) => (
            <nav className="fixed w-full z-50 bg-white/50 dark:bg-black/50 backdrop-blur-sm shadow-lg transition-colors duration-500">
                <div className="container mx-auto px-6 md:px-12 py-4 flex justify-between items-center">
                    <h1 className="text-2xl font-bodoni font-bold text-stone-900 dark:text-stone-100 cursor-pointer" onClick={() => onSelectCategory(Category.ALL)}>LUNA COLLECTION</h1>
                    <div className="hidden md:flex gap-8">
                        {Object.values(Category).map((cat) => (
                            <button 
                                key={cat} 
                                onClick={() => onSelectCategory(cat)} 
                                className={`text-sm font-sans tracking-widest uppercase pb-1 transition-all duration-300 ${activeCategory === cat ? 'text-museum-gold border-b border-museum-gold' : 'text-stone-700 dark:text-stone-300 hover:text-museum-gold'}`}
                            >
                                {categoryLabels[cat]}
                            </button>
                        ))}
                    </div>
                    <div className="flex items-center gap-4">
                        <button onClick={toggleTheme} className="text-stone-700 dark:text-stone-300 hover:text-museum-gold">
                            {isDarkMode ? '‚òÄÔ∏è' : 'üåô'}
                        </button>
                    </div>
                </div>
            </nav>
        );

        const Hero = ({ bgImage }) => (
            <header 
                className="relative flex items-center justify-center h-[50vh] transition-all duration-1000" 
                style={{ backgroundImage: `url(${bgImage})`, backgroundSize: 'cover', backgroundPosition: 'center' }}
            >
                <div className="absolute inset-0 bg-black/60 flex items-center justify-center">
                    <h2 className="text-5xl font-bodoni text-white tracking-wider animate-in fade-in duration-1000">The Private Collection</h2>
                </div>
            </header>
        );

        const ArtworkModal = ({ artwork, onClose }) => (
            <div className="fixed inset-0 z-[100] bg-black/80 flex items-center justify-center p-4" onClick={onClose}>
                <div className="bg-white dark:bg-museum-800 max-w-4xl max-h-[90vh] overflow-y-auto p-8 rounded-lg shadow-2xl animate-in fade-in duration-500" onClick={(e) => e.stopPropagation()}>
                    <h2 className="text-3xl font-serif text-stone-900 dark:text-stone-100 mb-4">{artwork.title}</h2>
                    <img src={artwork.imageUrl} alt={artwork.title} className="w-full h-auto object-cover mb-6" />
                    <p className="text-sm font-serif italic text-stone-600 dark:text-stone-400">Materials: {artwork.materials} | Year: {artwork.year}</p>
                    <button onClick={onClose} className="mt-6 text-museum-gold">Close</button>
                </div>
            </div>
        );

        const UploadModal = ({ onClose }) => (
            <div className="fixed inset-0 z-[100] bg-black/80 flex items-center justify-center p-4">
                 <div className="bg-white dark:bg-museum-800 p-8 rounded-lg shadow-2xl">
                    <p className="text-stone-900 dark:text-stone-100">Admin Modal Placeholder</p>
                    <button onClick={onClose} className="mt-4 text-museum-gold">Close</button>
                 </div>
            </div>
        );

        // --- 2. ‰Ω†ÁöÑ APP ÁªÑ‰ª∂ (Â∑≤‰ªé TSX ËΩ¨Êç¢‰∏∫ JSX) ---
        const App = () => {
          // Theme State
          const [isDarkMode, setIsDarkMode] = useState(true);

          // State management for dynamic content
          const [artworks, setArtworks] = useState(ARTWORKS);
          const [categoryLabels, setCategoryLabels] = useState(CATEGORY_LABELS);
          const [activeCategory, setActiveCategory] = useState(Category.ALL);
          const [selectedArtwork, setSelectedArtwork] = useState(null);
          const [searchTerm, setSearchTerm] = useState('');
          
          // Custom Background State
          const [customBg, setCustomBg] = useState(null);
          
          // Admin / Curator Mode state
          const [showUploadModal, setShowUploadModal] = useState(false);

          // Determine Background Image
          const currentBg = useMemo(() => {
            if (customBg) return customBg;
            return CATEGORY_THEMES[activeCategory] || CATEGORY_THEMES[Category.ALL];
          }, [activeCategory, customBg]);

          // Handle changing background
          const handleChangeBackground = (url) => {
             setCustomBg(url);
          };

          // Filtering Logic
          const filteredArtworks = useMemo(() => {
            return artworks.filter(art => {
              const matchesCategory = activeCategory === Category.ALL || art.category === activeCategory;
              const matchesSearch = art.title.toLowerCase().includes(searchTerm.toLowerCase()) || 
                                    art.materials.toLowerCase().includes(searchTerm.toLowerCase());
              return matchesCategory && matchesSearch;
            });
          }, [activeCategory, searchTerm, artworks]);

          // Handle Batch Upload
          const handleBatchUpload = (newArtworks) => {
            setArtworks(prev => [...newArtworks, ...prev]);
          };

          // Handle Editing Artwork
          const handleUpdateArtwork = (updatedArtwork) => {
              setArtworks(prev => prev.map(a => a.id === updatedArtwork.id ? updatedArtwork : a));
              setSelectedArtwork(updatedArtwork); // Update the modal view
          };

          const handleUpdateCategoryLabel = (cat, newLabel) => {
            setCategoryLabels(prev => ({
              ...prev,
              [cat]: newLabel
            }));
          };

          // Dynamic Styles based on background
          const mainStyle = customBg 
            ? { backgroundColor: isDarkMode ? 'rgba(0,0,0,0.7)' : 'rgba(255,255,255,0.85)' } 
            : {};

          return (
            <div className={`${isDarkMode ? 'dark' : ''} font-sans transition-colors duration-500 min-h-screen selection:bg-museum-gold selection:text-black`}>
              {/* Fixed Background Layer */}
              <div 
                className="fixed inset-0 z-0 transition-all duration-1000 ease-in-out"
                style={{
                   backgroundImage: `url(${currentBg})`,
                   backgroundSize: 'cover',
                   backgroundPosition: 'center',
                   filter: customBg ? 'none' : 'grayscale(30%)',
                }}
              />
              
              {/* Overlay for readability if no custom bg is set, or specific overlay if it is */}
              <div className={`fixed inset-0 z-0 pointer-events-none transition-colors duration-500 ${!customBg ? (isDarkMode ? 'bg-museum-900/95' : 'bg-museum-50/95') : 'backdrop-blur-sm'}`}></div>
              
              <div className="relative z-10 flex flex-col min-h-screen" style={mainStyle}>
                <Header 
                  activeCategory={activeCategory} 
                  categoryLabels={categoryLabels}
                  onSelectCategory={setActiveCategory} 
                  onOpenAdmin={() => setShowUploadModal(true)}
                  isDarkMode={isDarkMode}
                  toggleTheme={() => setIsDarkMode(!isDarkMode)}
                  onChangeBackground={handleChangeBackground}
                />
                
                {/* Hero Section */}
                {activeCategory === Category.ALL && <Hero bgImage={currentBg} />}

                <main className={`container mx-auto px-6 md:px-12 ${activeCategory === Category.ALL ? 'mt-24' : 'pt-40'} flex-1`}>
                  
                  {/* Header & Controls - Minimalist Line Style */}
                  <div className="flex flex-col md:flex-row justify-between items-end mb-20 gap-8">
                    <div className="w-full md:w-auto">
                      <h2 className="text-4xl md:text-6xl font-serif text-stone-900 dark:text-stone-100 tracking-tight leading-none">
                        {categoryLabels[activeCategory]}
                      </h2>
                      <div className="h-1 w-20 bg-museum-gold mt-4"></div>
                    </div>
                    
                    <div className="w-full md:w-64 relative group">
                       <input 
                          type="text" 
                          placeholder="SEARCH COLLECTION" 
                          value={searchTerm}
                          onChange={(e) => setSearchTerm(e.target.value)}
                          className="w-full bg-transparent border-b border-stone-300 dark:border-stone-700 py-2 pl-0 pr-8 text-sm focus:outline-none focus:border-museum-gold transition-colors text-stone-900 dark:text-stone-100 placeholder-stone-400 font-sans tracking-widest uppercase"
                       />
                       <Search className="absolute right-0 top-2 text-stone-400 group-hover:text-museum-gold transition-colors w-4 h-4" />
                    </div>
                  </div>

                  {/* Content Display */}
                  {activeCategory === Category.LITERATURE ? (
                      // --- Literature (Blog) Layout ---
                      <div className="max-w-4xl mx-auto space-y-16 pb-20">
                          {filteredArtworks.map((art, index) => (
                              <article 
                                key={art.id}
                                onClick={() => setSelectedArtwork(art)}
                                className="group cursor-pointer border-b border-stone-200 dark:border-stone-800 pb-12 animate-in fade-in slide-in-from-bottom-8"
                                style={{ animationDelay: `${index * 100}ms` }}
                              >
                                  <div className="flex flex-col md:flex-row gap-8 items-start">
                                     <div className="flex-1">
                                        <div className="flex items-center gap-3 mb-4 text-museum-gold">
                                           <BookOpen size={18} />
                                           <span className="text-xs font-bold uppercase tracking-widest">Essay</span>
                                        </div>
                                        <h3 className="text-3xl md:text-4xl font-serif text-stone-900 dark:text-stone-100 mb-4 group-hover:text-museum-gold transition-colors">
                                          {art.title}
                                        </h3>
                                        <p className="text-lg font-serif text-stone-600 dark:text-stone-400 leading-relaxed mb-6 line-clamp-3">
                                            {art.shortDescription}
                                        </p>
                                        <div className="flex items-center gap-2 text-xs font-bold uppercase tracking-widest text-stone-900 dark:text-stone-200 group-hover:translate-x-2 transition-transform">
                                            Read Full Entry <ArrowRight size={14} />
                                        </div>
                                     </div>
                                     
                                     <div className="text-right hidden md:block">
                                        <span className="block text-4xl font-serif text-stone-200 dark:text-stone-800 font-bold">{art.year}</span>
                                     </div>
                                  </div>
                              </article>
                          ))}
                      </div>
                  ) : activeCategory === Category.PHOTOGRAPHY ? (
                      // --- Photography Grid (Compact, No Text, Max 2 Cols) ---
                      <div className="grid grid-cols-1 md:grid-cols-2 gap-2 pb-32">
                        {filteredArtworks.map((art, index) => (
                            <div 
                              key={art.id}
                              onClick={() => setSelectedArtwork(art)}
                              className="group cursor-pointer animate-in fade-in duration-1000 slide-in-from-bottom-12 fill-mode-backwards relative overflow-hidden"
                              style={{ animationDelay: `${index * 100}ms` }}
                            >
                                {/* Full Image */}
                                <img 
                                  src={art.imageUrl} 
                                  alt={art.title} 
                                  className="w-full h-auto object-cover transform transition-transform duration-[2s] ease-out group-hover:scale-105"
                                  loading="lazy"
                                />
                                {/* Overlay only on hover */}
                                <div className="absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors duration-500"></div>
                            </div>
                        ))}
                      </div>
                  ) : (
                     // --- Standard Gallery Grid (Hasselblad Style) ---
                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-8 gap-y-20 pb-32">
                      {filteredArtworks.length > 0 ? (
                          filteredArtworks.map((art, index) => (
                            <div 
                              key={art.id}
                              onClick={() => setSelectedArtwork(art)}
                              className="group cursor-pointer flex flex-col animate-in fade-in duration-1000 slide-in-from-bottom-12 fill-mode-backwards"
                              style={{ animationDelay: `${index * 100}ms` }}
                            >
                              {/* Image Container - Minimalist */}
                              <div className="relative aspect-[3/4] overflow-hidden bg-stone-100 dark:bg-stone-950 mb-6">
                                <img 
                                  src={art.imageUrl} 
                                  alt={art.title} 
                                  className="w-full h-full object-cover transform transition-transform duration-[1.5s] ease-out group-hover:scale-105"
                                  loading="lazy"
                                />
                                {/* Subtle Overlay on Hover */}
                                <div className="absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                              </div>

                              {/* Typography - Below Image, Editorial Style */}
                              <div className="text-center">
                                <h3 className="text-lg md:text-xl font-sans font-bold uppercase tracking-widest text-stone-900 dark:text-stone-100 mb-2 group-hover:text-museum-gold transition-colors">
                                  {art.title}
                                </h3>
                                <div className="flex justify-center items-center gap-3 text-xs font-serif italic text-stone-500 dark:text-stone-400">
                                  <span>{categoryLabels[art.category]}</span>
                                  <span className="w-1 h-1 bg-stone-400 rounded-full"></span>
                                  <span>{art.year}</span>
                                </div>
                              </div>
                            </div>
                          ))
                      ) : (
                        <div className="col-span-full py-32 flex flex-col items-center justify-center text-stone-500">
                          <p className="font-serif text-2xl italic mb-4">No works found in this collection.</p>
                          <button 
                            onClick={() => {setActiveCategory(Category.ALL); setSearchTerm('')}}
                            className="text-xs uppercase tracking-widest border-b border-stone-500 pb-1 hover:text-museum-gold hover:border-museum-gold transition-colors"
                          >
                            Return to Overview
                          </button>
                        </div>
                      )}
                    </div>
                  )}

                </main>
                
                <footer className="py-12 border-t border-stone-200 dark:border-stone-800 text-center">
                   <div className="font-serif italic text-stone-400 dark:text-stone-600 text-xl mb-2">Luna Collection</div>
                   <p className="text-[10px] uppercase tracking-[0.3em] text-stone-500">
                     Masters of Craft &copy; {new Date().getFullYear()}
                   </p>
                </footer>

                {/* Detail Modal */}
                {selectedArtwork && (
                  <ArtworkModal 
                    artwork={selectedArtwork} 
                    onClose={() => setSelectedArtwork(null)} 
                  />
                )}

                {/* Upload / Admin Modal */}
                {showUploadModal && (
                  <UploadModal 
                    onClose={() => setShowUploadModal(false)}
                  />
                )}
              </div>
            </div>
          );
        };

        // --- 3. React ÂêØÂä®Âô® ---
        const container = document.getElementById('root');
        const root = createRoot(container);
        root.render(React.createElement(App));
    </script>
    <script src="https://unpkg.com/lucide-react@0.554.0/umd/lucide-react.js"></script>
</body>
</html>
